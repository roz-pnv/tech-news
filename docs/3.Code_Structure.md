# TechNews Project Documentation

----
# 3. Code Structure â€“ Detailed Overview

### `core/` â€“ Handles project-level setup, configurations, and shared logic that isnâ€™t tied to a specific app like `news` or `scraper_control`. 

```
core/
â”œâ”€â”€ settings/
â”‚   â”œâ”€â”€ __init__.py           # Loads environment-specific settings
â”‚   â”œâ”€â”€ base.py               # Shared settings across environments
â”‚   â”œâ”€â”€ dev.py                # Development-specific configuration
â”‚   â””â”€â”€ prod.py               # Production overrides
â”œâ”€â”€ constants/
â”‚   â””â”€â”€ api_endpoints.py      # Global API path definitions
â”œâ”€â”€ models/
â”‚   â””â”€â”€ base.py               # Abstract base models
â”œâ”€â”€ views/
â”‚   â””â”€â”€ api_root.py           # Dynamic metadata root view for API
â”œâ”€â”€ urls.py                   # Root-level route configuration
â”œâ”€â”€ celery.py                 # Celery worker setup
â”œâ”€â”€ asgi.py / wsgi.py         # ASGI/WSGI entry points
```

### ğŸ“ core/constants/

#### â—¾ api_endpoints.py  
Stores reusable API route names like `/api/news/` or `/api/tags/`.  
ğŸ’¡ Keeps endpoint names consistent across views, documentation, and the root API view.

### ğŸ“ core/models/

#### â—¾ base.py  
Defines abstract base models like `TimeStampedModel`.  
ğŸ’¡ Prevents repeating shared fields across apps and keeps your models clean.

### ğŸ“ core/views/

#### â—¾ api_root.py  
Customizes the DRF root view shown at `/api/` with metadata like available endpoints, server status, or version.  
ğŸ’¡ Makes the API more informative and developer-friendly.

**Why in core/**: These are general-purpose and not tied to specific apps, so placing them in `core/` ensures clean architecture and avoids cross-app coupling.

### ğŸ“ core/settings/

#### â—¾ __init__.py  
Makes the folder importable and enables dynamic switching via `DJANGO_SETTINGS_MODULE`.

#### â—¾ base.py  
Shared settings: installed apps, middleware, database config, DRF setup.

#### â—¾ dev.py  
Overrides for local dev: enables `DEBUG`, uses SQLite, verbose tracebacks.

#### â—¾ prod.py  
Overrides for production: disables debug, improves security, enables caching/logging.

ğŸ’¡ Modular settings make it easy to switch environmentsâ€”ideal for Docker, CI/CD, and cloud deployments.

### ğŸ“ core/celery.py

Initializes Celery for background task execution.  
ğŸ’¡ Essential for running async tasks such as scraping, sending emails, or data syncing.


---
### `news/` â€“ contains all business logic related to news articles, tagging, and image handling.The folder is structured into submodules like `models/`, `views/`, `serializers/`, and `signals/` to ensure clarity, scalability, and maintainability across the codebase.

```

news/
â”œâ”€â”€ models/                   # Core data structures: News, Tag, NewsImage
â”‚   â”œâ”€â”€ news.py               # Defines News model
â”‚   â”œâ”€â”€ tag.py                # Defines Tag model
â”‚   â””â”€â”€ news_image.py         # Defines NewsImage model
â”œâ”€â”€ serializers/              # Validation and transformation for API responses
â”‚   â”œâ”€â”€ news.py               # Serializers for News data
â”‚   â”œâ”€â”€ tag.py                # Serializers for Tag data
â”‚   â””â”€â”€ news_image.py         # Serializers for NewsImage data
â”œâ”€â”€ views/                    # CRUD operations and filtering logic
â”‚   â””â”€â”€ news.py               # ViewSets for news-related endpoints
â”œâ”€â”€ urls/                     # Clean, versioned paths for news API
â”‚   â””â”€â”€ api.py                # Routes for /api/news/, /api/tags/, etc.
â”œâ”€â”€ filters.py                # Customized filtering (e.g. by tag, date)
â”œâ”€â”€ admin.py                  # Django admin configuration for models
â”œâ”€â”€ signals/                  # Automation on model events (e.g. post-save)
â”‚   â”œâ”€â”€ news_signals.py       # Handles News-related signals
â”‚   â””â”€â”€ tag_signals.py        # Handles Tag-related signals
â””â”€â”€ tests/                    # Automated coverage for reliability
    â”œâ”€â”€ test_models.py        # Unit tests for News, Tag, NewsImage models
    â””â”€â”€ test_views.py         # Unit tests for News view logic
```

ğŸ”¹ **Folder Purpose:** Manages all functionality related to user-facing news content.  
ğŸ”¹ **App Responsibility:** CRUD operations, filtering, and tagging logic for articles.  
ğŸ”¹ **Signals:** Image cleanup on deletion, auto-slug generation for tags.  

---

### `news_scraper/` â€“ Web Crawling Engine (Scrapy)

```
news_scraper/
â”œâ”€â”€ spiders/                 # Contains crawling logic per source
â”‚   â””â”€â”€ zoomit_spider.py     # Zoomit-specific crawler implementation
â”œâ”€â”€ items.py                 # Defines structured output for scraped fields
â”œâ”€â”€ middlewares.py           # Custom behavior during requests/responses
â”œâ”€â”€ pipelines.py             # Handles cleaning, storage, or transformation of scraped data
â”œâ”€â”€ settings.py              # Scrapy configuration: concurrency, headers, delays, etc.
â””â”€â”€ utils/                   # Shared utilities for parsing, formatting, etc.
    â””â”€â”€ date.py              # Handles date normalization across sources
```

ğŸ”¹ **Folder Purpose:** Responsible for crawling external news sources.  
ğŸ”¹ **App Responsibility:** Extract raw article data using spiders.   

---

### `scraper_control/` â€“ Task Launching and Scraped Data Storage

```
scraper_control/
â”œâ”€â”€ models/
â”‚   â””â”€â”€ scraped_article.py   # Stores metadata of fetched articles
â”œâ”€â”€ tasks.py                 # Celery tasks to run spiders
â”œâ”€â”€ views.py                 # API exposure for scraped content
â”œâ”€â”€ admin.py                 # Admin panel for scraped records
â””â”€â”€ tests.py                 # Testing for models and tasks
```

ğŸ”¹ **Folder Goal**: Run spiders and save scraped URLs  
ğŸ”¹ **What It Does Now**:  
   - Saves URLs to prevent duplicate scraping  
   - Runs periodic scraping task using Celery Beat  

ğŸ”¹ **Future Plans**:  
   - Track each Celery Beat run (time, status, spider name)  
   - Link scraped articles to the specific run that fetched them  
   - Add alerts or logs for failed tasks  
   - Possibly extend API to show task run details

---

### `utils/` â€“ Shared Utilities Across Apps

```
utils/
â”œâ”€â”€ pagination.py            # Custom pagination for DRF
â””â”€â”€ slug.py                  # Slugify helper for tags/articles
```

ğŸ”¹ **Folder Purpose:** Contains reusable helper functions. 

