# TechNews Project Documentation

----
# 3. Code Structure – Detailed Overview

### `core/` – Handles project-level setup, configurations, and shared logic that isn’t tied to a specific app like `news` or `scraper_control`. 

```
core/
├── settings/
│   ├── __init__.py           # Loads environment-specific settings
│   ├── base.py               # Shared settings across environments
│   ├── dev.py                # Development-specific configuration
│   └── prod.py               # Production overrides
├── constants/
│   └── api_endpoints.py      # Global API path definitions
├── models/
│   └── base.py               # Abstract base models
├── views/
│   └── api_root.py           # Dynamic metadata root view for API
├── urls.py                   # Root-level route configuration
├── celery.py                 # Celery worker setup
├── asgi.py / wsgi.py         # ASGI/WSGI entry points
```

### 📁 core/constants/

#### ◾ api_endpoints.py  
Stores reusable API route names like `/api/news/` or `/api/tags/`.  
💡 Keeps endpoint names consistent across views, documentation, and the root API view.

### 📁 core/models/

#### ◾ base.py  
Defines abstract base models like `TimeStampedModel`.  
💡 Prevents repeating shared fields across apps and keeps your models clean.

### 📁 core/views/

#### ◾ api_root.py  
Customizes the DRF root view shown at `/api/` with metadata like available endpoints, server status, or version.  
💡 Makes the API more informative and developer-friendly.

**Why in core/**: These are general-purpose and not tied to specific apps, so placing them in `core/` ensures clean architecture and avoids cross-app coupling.

### 📁 core/settings/

#### ◾ __init__.py  
Makes the folder importable and enables dynamic switching via `DJANGO_SETTINGS_MODULE`.

#### ◾ base.py  
Shared settings: installed apps, middleware, database config, DRF setup.

#### ◾ dev.py  
Overrides for local dev: enables `DEBUG`, uses SQLite, verbose tracebacks.

#### ◾ prod.py  
Overrides for production: disables debug, improves security, enables caching/logging.

💡 Modular settings make it easy to switch environments—ideal for Docker, CI/CD, and cloud deployments.

### 📁 core/celery.py

Initializes Celery for background task execution.  
💡 Essential for running async tasks such as scraping, sending emails, or data syncing.


---
### `news/` – contains all business logic related to news articles, tagging, and image handling.The folder is structured into submodules like `models/`, `views/`, `serializers/`, and `signals/` to ensure clarity, scalability, and maintainability across the codebase.

```

news/
├── models/                   # Core data structures: News, Tag, NewsImage
│   ├── news.py               # Defines News model
│   ├── tag.py                # Defines Tag model
│   └── news_image.py         # Defines NewsImage model
├── serializers/              # Validation and transformation for API responses
│   ├── news.py               # Serializers for News data
│   ├── tag.py                # Serializers for Tag data
│   └── news_image.py         # Serializers for NewsImage data
├── views/                    # CRUD operations and filtering logic
│   └── news.py               # ViewSets for news-related endpoints
├── urls/                     # Clean, versioned paths for news API
│   └── api.py                # Routes for /api/news/, /api/tags/, etc.
├── filters.py                # Customized filtering (e.g. by tag, date)
├── admin.py                  # Django admin configuration for models
├── signals/                  # Automation on model events (e.g. post-save)
│   ├── news_signals.py       # Handles News-related signals
│   └── tag_signals.py        # Handles Tag-related signals
└── tests/                    # Automated coverage for reliability
    ├── test_models.py        # Unit tests for News, Tag, NewsImage models
    └── test_views.py         # Unit tests for News view logic
```

🔹 **Folder Purpose:** Manages all functionality related to user-facing news content.  
🔹 **App Responsibility:** CRUD operations, filtering, and tagging logic for articles.  
🔹 **Signals:** Image cleanup on deletion, auto-slug generation for tags.  

---

### `news_scraper/` – Web Crawling Engine (Scrapy)

```
news_scraper/
├── spiders/                 # Contains crawling logic per source
│   └── zoomit_spider.py     # Zoomit-specific crawler implementation
├── items.py                 # Defines structured output for scraped fields
├── middlewares.py           # Custom behavior during requests/responses
├── pipelines.py             # Handles cleaning, storage, or transformation of scraped data
├── settings.py              # Scrapy configuration: concurrency, headers, delays, etc.
└── utils/                   # Shared utilities for parsing, formatting, etc.
    └── date.py              # Handles date normalization across sources
```

🔹 **Folder Purpose:** Responsible for crawling external news sources.  
🔹 **App Responsibility:** Extract raw article data using spiders.   

---

### `scraper_control/` – Task Launching and Scraped Data Storage

```
scraper_control/
├── models/
│   └── scraped_article.py   # Stores metadata of fetched articles
├── tasks.py                 # Celery tasks to run spiders
├── views.py                 # API exposure for scraped content
├── admin.py                 # Admin panel for scraped records
└── tests.py                 # Testing for models and tasks
```

🔹 **Folder Goal**: Run spiders and save scraped URLs  
🔹 **What It Does Now**:  
   - Saves URLs to prevent duplicate scraping  
   - Runs periodic scraping task using Celery Beat  

🔹 **Future Plans**:  
   - Track each Celery Beat run (time, status, spider name)  
   - Link scraped articles to the specific run that fetched them  
   - Add alerts or logs for failed tasks  
   - Possibly extend API to show task run details

---

### `utils/` – Shared Utilities Across Apps

```
utils/
├── pagination.py            # Custom pagination for DRF
└── slug.py                  # Slugify helper for tags/articles
```

🔹 **Folder Purpose:** Contains reusable helper functions. 

